(()=>{var e={};e.id=374,e.ids=[374],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9649:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,originalPathname:()=>u,pages:()=>p,routeModule:()=>x,tree:()=>c}),r(9616),r(1506),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["interoperable-canvas",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9616)),"/Users/armandoorellana/Documents/GitHub/interoperable-canvas/app/interoperable-canvas/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/armandoorellana/Documents/GitHub/interoperable-canvas/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],p=["/Users/armandoorellana/Documents/GitHub/interoperable-canvas/app/interoperable-canvas/page.tsx"],u="/interoperable-canvas/page",d={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/interoperable-canvas/page",pathname:"/interoperable-canvas",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7216:(e,t,r)=>{Promise.resolve().then(r.bind(r,5980))},5980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(326),a=r(7577),n=r(2818),i=r(2585),o=r(76),l=r(1552),c=r(7389),p=r(3856);let u={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID},d=(0,i.C6)().length?(0,i.C6)()[0]:(0,i.ZF)(u),x=(0,o.ad)(d),m=(0,l.cF)(d);function g(){let[e,t]=(0,a.useState)(!1),[r,i]=(0,a.useState)(!1),[c,p]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1),[h,v]=(0,a.useState)(null),[j,_]=(0,a.useState)(null),y=async e=>{if(e.preventDefault(),v(null),_(null),!c.trim()||!u.trim()){_("Project ID and Name are required.");return}try{b(!0);let e=c.trim(),t=u.trim(),r=(0,o.JU)(x,"interoperable-canvas",e);await (0,o.pl)(r,{name:t,slug:e,createdAt:(0,o.Bt)(),ownerWallet:"admin"},{merge:!0});let s=(0,o.JU)(x,"interoperable-canvas",e,"canvases","root");await (0,o.pl)(s,{name:"Root Canvas",createdAt:(0,o.Bt)(),aspect:"16:9"},{merge:!0});try{let t=`interoperable-canvas/assets/${e}/.keep`,r=new Blob(["placeholder"],{type:"text/plain"});await (0,l.KV)((0,l.iH)(m,t),r,{cacheControl:"no-store"})}catch{}v("Project created successfully."),p(""),d("")}catch(e){_(e?.message??"Failed to create project")}finally{b(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-100 py-10 px-4",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Interoperable Canvas — Projects"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create and manage projects. This homepage does not edit canvases."}),(0,s.jsxs)("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(n.Z,{})}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:[s.jsx("p",{children:"For demo purposes, project creation is enabled for all users."}),s.jsx("p",{children:"In production, implement proper admin authentication."})]}),(0,s.jsxs)("form",{onSubmit:y,className:"mt-6 space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Project ID (slug)"}),s.jsx("input",{value:c,onChange:e=>p(e.target.value),className:"mt-1 w-full border rounded px-3 py-2 text-black",placeholder:"e.g., gardens-fund"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Storage: interoperable-canvas/assets/",c||"your-id","/"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Firestore: interoperable-canvas/",c||"your-id"]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Project Name"}),s.jsx("input",{value:u,onChange:e=>d(e.target.value),className:"mt-1 w-full border rounded px-3 py-2 text-black",placeholder:"e.g., PGF Gardens"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"submit",disabled:g,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50",children:g?"Creating…":"Create Project"})}),h&&s.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:h}),j&&s.jsx("div",{className:"text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:j})]})]})]})})}function b(){return s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"min-h-screen bg-gray-100 text-gray-700 p-6",children:"Loading…"}),children:s.jsx(h,{})})}function h(){let e=(0,c.useSearchParams)(),t=e?.get("projectId")||null;return t?s.jsx("div",{className:"min-h-screen bg-gray-900",children:s.jsx(p.s,{projectId:t})}):s.jsx(g,{})}},9616:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(8570);let a=(0,s.createProxy)(String.raw`/Users/armandoorellana/Documents/GitHub/interoperable-canvas/app/interoperable-canvas/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/Users/armandoorellana/Documents/GitHub/interoperable-canvas/app/interoperable-canvas/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[734,680,99],()=>r(9649));module.exports=s})();